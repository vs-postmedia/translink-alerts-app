(this["webpackJsonptranslink-alerts-app"]=this["webpackJsonptranslink-alerts-app"]||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a(24)},,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),s=a.n(c),l=a(1),o=a(2),i=a(4),u=a(3),m=a(5),d=a(9),h=function(e){return e.children},p=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={value:"Enter a bus number..."},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(h,null,r.a.createElement("label",{id:"input"},r.a.createElement("input",{type:"text",placeholder:this.state.value,onChange:this.props.onChange})))}}]),t}(n.Component),f=(a(18),function(e){var t=function(e){for(var t={bus:0,routes:0,seabus:0,routeList:[]},a=0;a<e.length;++a)"bus"===e[a].transitType&&t.bus++,t.routeList.includes(e[a].route)||(t.routeList.push(e[a].route),t.routes++);return t}(e.data);return r.a.createElement("div",{className:"summary-box"},r.a.createElement("h2",null,"There are ",r.a.createElement("span",{className:"highlight"},"".concat(t.bus," buses"))," cancelled on ",r.a.createElement("span",{className:"highlight"},"".concat(t.routes))," different routes."))}),E=(a(19),function(e){var t=e.data,a=t.time.split("-"),n="".concat(a[1],". ").concat(a[0]),c=t.time.split(" "),s="".concat(c[1]," ").concat(c[2]," to ").concat(c[5]," ").concat(c[6]);return r.a.createElement("div",{className:"card"},r.a.createElement("header",null,r.a.createElement("h2",null,t.route),r.a.createElement("p",{className:"type"},t.alertType)),r.a.createElement("div",{className:"schedule"},r.a.createElement("div",{className:"date"},r.a.createElement("p",{className:"day"},r.a.createElement("strong",null,n)),r.a.createElement("p",{className:"time"},s)),r.a.createElement("div",{className:"update"},r.a.createElement("p",null,r.a.createElement("strong",null,"Updated")),r.a.createElement("p",null,"about ",t.lastUpdate))),r.a.createElement("h4",null,"Details"),r.a.createElement("p",{className:"info"},t.info))}),v=(a(20),function(e){var t=e.data.sort((function(e,t){return parseInt(e.route)-parseInt(t.route)}));return r.a.createElement("div",{className:"card-list"},t.map((function(e,t){return r.a.createElement(E,{className:"card",data:e,key:t,id:e.route})})))}),b=(a(21),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={data:[],filteredData:[],timestamp:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(this.props.dataURL,{cache:"no-store"}).then((function(e){return e.json()})).then((function(t){return e.setState({data:t.alerts,filteredData:t.alerts,timestamp:e.setTimestamp(t.timestamp)})}))}},{key:"setTimestamp",value:function(e){return d.tz(e,"America/Vancouver").calendar()}},{key:"handleInputChange",value:function(e){var t=""===e.target.value?this.state.data:this.state.data.filter((function(t){return t.route.includes(e.target.value)}));this.setState({filteredData:t})}},{key:"render",value:function(){var e;return e=this.state.filteredData.length>0?r.a.createElement(v,{data:this.state.filteredData}):r.a.createElement("p",{className:"no-data"},"No cancellations"),r.a.createElement(h,null,r.a.createElement("h1",null,"Is my bus cancelled?"),r.a.createElement(p,{onChange:this.handleInputChange.bind(this)}),r.a.createElement(f,{data:this.state.data}),e,r.a.createElement("footer",{className:"footer"},"Last update: ".concat(this.state.timestamp)))}}]),t}(n.Component)),g=(a(22),"https://storage.googleapis.com/vs-postmedia-data/alerts.json");var y=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(b,{dataURL:g}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(23);s.a.render(r.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[10,1,2]]]);
//# sourceMappingURL=main.4ffd973d.chunk.js.map